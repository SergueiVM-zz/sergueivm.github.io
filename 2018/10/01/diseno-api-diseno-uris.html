<!doctype html>
<html lang="es">
  <head>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
      <meta name="description" content="...me dedico a hacer software">
      <title>SergueiVM:: Diseño API Rest - Diseñando URIs</title>     
      <link rel="shortcut icon" href="/favicon.ico">
      <link rel="stylesheet" href="/assets/css/main.css">
      <link href="https://fonts.googleapis.com/css?family=Indie+Flower|Architects+Daughter|Roboto|Roboto+Mono" rel="stylesheet">
      <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.2.0/css/all.css" integrity="sha384-hWVjflwFxL6sNzntih27bfxkr27PmbbK/iSvJ+a4+0owXq79v+lsFkW54bOGbiDQ" crossorigin="anonymous">
  </head>
  <body>
    <header class="center">
      <h1><a href="/">Los apuntes de SergueiVM</a></h1>
    </header>
    <main class="paper">
    <nav class="flex-grid">
  
  <a href="/2018/09/27/meetup-horneando-apis.html" class="col left"><i class="fas fa-long-arrow-alt-left"></i> <p>Recomendación - Meetup - Horneando APIs</p>
</a>
  

  <a href="/" class="col center"><i class="fas fa-long-arrow-alt-up"></i> Índice</a>

  

</nav>
<article>
  <header class="flex-grid">
    <h1 class="col"><p>Diseño API Rest - Diseñando URIs</p>
</h1>
    
    <div class="col left">
      <div class="post-it">
          <div class="post-it-title">Este árticulo habla de ...</div>
          <ul class="comma-separated">
          
            <li><a href="/api-design">Api design</a></li>
          
          </ul>
          <div class="post-it-footer">Y fue publicado el 01/10/2018</div>          
      </div>
    </div>
    
  </header>
  <main><p>El diseño de URIs es la base de un API, en el incluimos los recursos que darán información sobre nuestros recursos, nuestra información de negocio.</p>

<!--more-->
<h2 id="diseñando-las-uris--los-recursos">Diseñando las URIs / los recursos.</h2>

<p>Comenzamos con la pregunta del millón de €uros  ¿Qué es una URI (<strong>U</strong>niform <strong>R</strong>esource <strong>I</strong>dentifier)?
Y ponemos una cita para responder a la pregunta.</p>

<blockquote>
  <p>The only thing you can use an identifier for is to refer to an object. When you are not dereferencing, you should not look at the contents of the URI string to gain other information
— <a href="https://www.w3.org/DesignIssues/Axioms.html" target="_blank">Tim Berners-Lee</a></p>
</blockquote>

<p>La URI nos identifica los recursos y los recursos son la información que exponemos a los clientes o consumidores del API, por lo tanto un buen diseño de URIs nos facilita el acceso a dicha información.</p>

<p>Debemos seguir el paradigma de una web y trata las URIs como <strong>identificadores opacos</strong>. El cliente/usuario/desarrollador/consumidor no tiene porqué saber cómo se conforma, solo debe saber que es un identificador único y univoco de un recurso.</p>

<p>Formato de un URI:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
URI = schema “://” autoridad “/” path [“?” query][“#” fragmento]

</code></pre></div></div>

<p>Debemos tener en cuenta algunos aspectos</p>
<h3 id="el-slash--debe-usarse-para-indicar-un-relación-jerárquica-al-final-de-una-uri-no-aporta-nada-y-no-se-debe-incluir">El slash (“<code class="language-plaintext highlighter-rouge">/</code>”) debe usarse para indicar un relación jerárquica, al final de una URI no aporta nada y no se debe incluir.</h3>

<p>Las convenciones de un API REST indican que cada parte del path corresponde con un recurso único en un modelo jerarquico.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
http://api.example.es/ligas/futbol/equipos/athletic-club-de-bilbao
http://api.example.es/ligas/futbol/equipos/fc-barcelona
http://api.example.es/ligas/futbol/equipos/real-madrid
http://api.example.es/ligas/baloncesto/equipos/bilbao-basket
http://api.example.es/ligas/baloncesto/equipos/fc-barcelona
http://api.example.es/ligas/baloncesto/equipos/real-madrid

</code></pre></div></div>

<p>Si mostramos esto de una manera más gráfica sería como vemos a continuación.</p>

<p><img src="/assets/images/api-jerarquia-deportes.png" alt="Jerarquia de Recursos API" /></p>

<h3 id="se-debe-usar-el-guion-medio---para-mejorar-la-legibilidad-y-no-se-deben-utilizar-los-guiones-bajos-_">Se debe usar el guion medio (“<code class="language-plaintext highlighter-rouge">-</code>”) para mejorar la legibilidad y no se deben utilizar los guiones bajos (“<code class="language-plaintext highlighter-rouge">_</code>”).</h3>

<h3 id="las-uris-deben-utilizar-las-minúsculas-para-los-paths">Las URIs deben utilizar las minúsculas para los paths.</h3>

<p>Vamos a detenernos es este punto y ver unos ejemplos:</p>

<ol>
  <li>
    <dl>
      <dt><code class="language-plaintext highlighter-rouge">http://api.example.es/mi-carpeta/mi-doc</code></dt>
      <dd>Es una URI correcta según las reglas que hemos indicado anteriormente.</dd>
    </dl>
  </li>
  <li>
    <dl>
      <dt><code class="language-plaintext highlighter-rouge">http://API.EXAMPLE.ES/mi-carpeta/mi-doc</code></dt>
      <dd>El formato de la URI según la especificación RFC-3986 la considera idéntica a la URI anterior.</dd>
    </dl>
  </li>
  <li>
    <dl>
      <dt><code class="language-plaintext highlighter-rouge">http://api.example.es/Mi-carpeta/Mi-doc</code></dt>
      <dd>Es distinta a la número 1 y pueden causar confusión innecesaria, la parte <em>path</em> es sensible a mayúsculas y minúsculas.</dd>
    </dl>
  </li>
</ol>

<h3 id="otro-aspecto-a-tener-en-cuenta-cuando-diseñemos-la-uris-es-que-no-se-debe-incluir-las-extensiones-en-las-uris">Otro aspecto a tener en cuenta cuando diseñemos la URIs es que no se debe incluir las extensiones en las URIs</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>http://api.example.es/mi-recurso/pepe
http://api.example.es/mi-recurso/pepe.json
</code></pre></div></div>

<p>De esta manera desacoplamos el formato físico (json, xml, texto, etc) de la representación funcional. Pero como se hace esto lo veremos más adelante.</p>
</main>
  
  <footer>
    <h2>Tienes algo que decir... (Deja aquí tus comentarios)</h2>
    <div id="disqus_thread"></div>
<script>

/**
*  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
*  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/

var disqus_config = function () {
this.page.url = "/2018/10/01/diseno-api-diseno-uris.html";  // Replace PAGE_URL with your page's canonical URL variable
this.page.identifier = "/2018/10/01/diseno-api-diseno-uris"; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};

(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');
s.src = 'https://sergueivm.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  </footer>
  
</article>
    </main>
    <footer class="footer">
      <ul class="lista-en-linea">
        <li><a target="_blank" href="http://twitter.com/SergueiVM" class="fab fa-twitter"> <span>Twitter</span></a></li>
        <li><a target="_blank" href="http://github.com/sergueivm" class="fab fa-github"> <span>Github</span></a></li>
        <li><a target="_blank" href="https://www.linkedin.com/in/sergueivicario" class="fab fa-linkedin"> <span>LinkedIn<span></a></li>
        <li><a href="/feed.xml" class="fas fa-rss"> <span>RSS<span></a></li>
        <li><small>Ult. Generación: 2020-12-14T17:17:25+01:00</small></li>
      </ul>
    <footer>
    
    <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-124836677-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-124836677-1');
</script>

    
  </body>
</html>